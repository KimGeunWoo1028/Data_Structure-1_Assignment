/*
   프로그램 설명:
   이 프로그램은 사용자가 입력한 문자열을 받아서 reverse() 함수를 이용하여
   문자열을 역순으로 변경한 후, 결과를 출력하는 간단한 C 프로그램입니다.
*/

#define _CRT_SECURE_NO_WARNINGS  // MSVC 컴파일러에서 보안 경고를 무시하기 위한 정의
#include <stdio.h>             // 표준 입출력 함수 헤더 파일
#include <string.h>            // 문자열 처리 함수 헤더 파일

// 함수: reverse
// 목적: p가 가리키는 문자열을 역순으로 q에 복사하는 함수
void reverse(char* p, char* q)
{
    int len = strlen(p);  // 문자열 p의 길이를 구함
    p += len - 1;         // 포인터 p를 문자열의 마지막 문자로 이동

    // 문자열 전체 길이만큼 반복하면서 p의 문자를 역순으로 q에 복사
    while (len > 0)
    {
        *q = *p;      // p가 가리키는 현재 문자를 q가 가리키는 위치에 저장
        p--;          // p 포인터를 한 칸 앞으로 이동 (역순으로 진행)
        q++;          // q 포인터를 한 칸 뒤로 이동
        len--;        // 처리한 문자 수를 감소
    }
    *q = '\0';        // 복사한 문자열의 끝에 널 종료 문자 삽입
}

int main(void)
{
    // s1은 원본 문자열, s2는 역순 문자열을 저장할 배열, p와 q는 각각의 시작 주소를 가리키는 포인터
    char s1[100], s2[100], * p, * q;

    // 사용자로부터 문자열 입력을 안내하는 메시지 출력
    printf("문자열 입력: ");

    // 사용자로부터 문자열 입력 받음 (공백 전까지 입력)
    scanf("%s", s1);

    // 포인터 p는 s1의 시작 주소, 포인터 q는 s2의 시작 주소를 가리킴
    p = s1;
    q = s2;

    // reverse 함수를 호출하여 s1의 문자열을 역순으로 s2에 저장
    reverse(p, q);

    // 역순으로 변경된 문자열 출력
    printf("역순문자열: %s \n", s2);

    return 0;  // 프로그램 정상 종료
}